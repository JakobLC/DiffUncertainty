# @package _global_
data:
  _target_: uncertainty_modeling.data.torch_dataloader.BaseDataModule
  name: "origlidc64"
  nickname: "origlidc64"
  data_input_dir: "/home/jloch/Desktop/diff/luzern/values_datasets/origlidc64"
  num_classes: 2
  ignore_index: -1
  num_workers: 8
  batch_size: 64
  val_batch_size: 64
  data_fold_id: 0
  evaluate_training_data: true
  evaluate_all_raters: true
  validation_ratio: 0.1
  split_name: "ood_aug"
  dataset:
    _target_: uncertainty_modeling.data.lidc2d_dataset.MultiRater2DDataset
    splits_path: "${data.data_input_dir}/splits/${data.split_name}/firstCycle/splits.pkl"
  augmentations:
    rotation_limit: 22.5
    scale_limit: [ -0.2, 0.2 ]
    mean: [ 0.485, 0.456, 0.406 ] # TODO: CHANGE THIS
    std: [ 0.229, 0.224, 0.225 ]  # TODO: CHANGE THIS
    border_mode: 0
    mask_value: 0
    height: 64
    width: 64
    gauss_noise_var_limit: [0.2, 0.44]
    augment_mult: 0.0
    apply_mult_keys: ["HorizontalFlip.p", "Rotate.limit", "RandomScale.scale_limit", "GaussNoise.var_limit"]
    TRAIN:
      - Compose:
          transforms:
            - HorizontalFlip:
                p: 0.5
            - Rotate:
                limit: ${data.augmentations.rotation_limit}
                border_mode: ${data.augmentations.border_mode}
                mask_value: ${data.augmentations.mask_value}
            - RandomScale:
                scale_limit: ${data.augmentations.scale_limit}
                p: 1.0
            - PadIfNeeded:
                min_height: ${data.augmentations.height}
                min_width: ${data.augmentations.width}
                border_mode: ${data.augmentations.border_mode}
                mask_value: ${data.augmentations.mask_value}
            - CenterCrop:
                height: ${data.augmentations.height}
                width: ${data.augmentations.width}
            - GaussNoise:
                var_limit: ${data.augmentations.gauss_noise_var_limit}
                p: 0.5
            - Normalize:
                mean: ${data.augmentations.mean}
                std: ${data.augmentations.std}
                max_pixel_value: 1.0
            - ToTensorV2:
    VALIDATION:
      - Compose:
          transforms:
            - Normalize:
                mean: ${data.augmentations.mean}
                std: ${data.augmentations.std}
                max_pixel_value: 1.0
            - ToTensorV2:
    TEST: ${data.augmentations.VALIDATION}
